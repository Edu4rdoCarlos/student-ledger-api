// ============================================
// DEFESA DE TCC
// ============================================

model Defense {
  id         String        @id @default(uuid())
  titulo     String
  dataDefesa DateTime
  notaFinal  Float?
  resultado  DefenseResult
  createdAt  DateTime      @default(now())
  updatedAt  DateTime      @updatedAt

  // Relacionamentos
  studentId String
  student   Student    @relation(fields: [studentId], references: [id])
  advisorId String
  advisor   Advisor    @relation(fields: [advisorId], references: [id])
  documents Document[]

  @@index([studentId])
  @@index([advisorId])
  @@index([resultado])
}

enum DefenseResult {
  APROVADO
  REPROVADO
}
